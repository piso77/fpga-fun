{
  "name":"toycpu",
  "vars":{
    "reg":{"bits":2, "toks":["r0", "r1", "r2", "r3"]},
    "unop":{"bits":3, "toks":["zero","loada","inc","dec","asl","lsr","rol","ror"]},
    "binop":{"bits":3, "toks":["or","and","xor","mov","sub","adc","sbb"]},
    "flag":{"bits":2, "toks":["nc", "c", "nz", "z"]},
    "const4":{"bits":4},
    "imm8":{"bits":8},
    "imm11":{"bits":11}
  },
  "rules":[
    {"fmt":"mv ~reg, ~reg",			"bits":["000",0,1,"00", "0000000"]},
    {"fmt":"add ~reg, ~reg, ~reg",	"bits":["000",0,1,2,"0000001"]},
    {"fmt":"ld ~reg, ~imm11",		"bits":["001",0,1]},
    {"fmt":"ld ~reg, [~reg]",		"bits":["011",0,1,"000000000"]},
    {"fmt":"st [~reg], ~reg",		"bits":["101","00",0,1,"0000000"]},
    {"fmt":"br ~flag, ~imm11",		"bits":["110",0,1]},
    {"fmt":"halt",					"bits":["1111111111111111"]}
  ]
}
